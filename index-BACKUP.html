<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
    <meta name="description" content="Acceso oficial a la experiencia de casino online: tragamonedas, casino en vivo y mega bonos." />
    <meta property="og:title" content="Casino Oficial - Bono de Bienvenida" />
    <meta property="og:description" content="Juegos en vivo, slots destacados y promociones exclusivas." />
    <meta property="og:image" content="bonus.png" />
    <meta name="theme-color" content="#08112B" />
    <meta name="facebook-domain-verification" content="jcwe76kq3gu42r8y1je5goyehiovvg" />
    <title>Casino Oficial - Experiencia Online</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.85em' font-size='80'>🎰</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://connect.facebook.net" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700;800&display=swap" rel="stylesheet">
    <link rel="preload" as="image" href="logo.png" fetchpriority="high" />
    <link rel="preload" as="image" href="logo_whatsapp.png" fetchpriority="high" />
    <!-- Meta Pixel Code -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '1126842699347074');
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1126842699347074&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    <style>
        :root{
            --bg:#050c20;
            --bg-alt:#0d1732;
            --bg-soft:#142245;
            --gradient:linear-gradient(135deg,#0a1a3b,#041024 70%);
            --primary:#3aa8ff;
            --primary-glow:#3aa8ff55;
            --accent:#ffbc00;
            --success:#29D366;
            --text:#ffffff;
            --muted:#9bb0d2;
            --radius:16px;
            --header-h:380px;
            --app-vh:100vh;
        }
        *{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent;font-family:'Montserrat',sans-serif}
    body{background:var(--gradient);color:var(--text);font-size:16px;line-height:1.5;min-height:100vh;-webkit-font-smoothing:antialiased;overflow-x:hidden;position:relative;}
    #particles-canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;opacity:0;display:none;will-change:auto;}
        img{display:block;max-width:100%;}
        a{text-decoration:none;color:inherit}
    header{position:fixed;top:0;left:0;right:0;z-index:40;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:20px 0;height:var(--header-h);background:linear-gradient(180deg,rgba(5,12,32,.95),rgba(5,12,32,.6) 85%,transparent);}
    .logo-mini{display:flex;align-items:center;justify-content:center;padding:10px;border-radius:20px;background:#0f1d3b;border:1px solid #203454;box-shadow:0 6px 20px -8px #020b19,0 0 0 6px #0c1a33 inset;margin-bottom:12px;}
    .logo-mini img{height:64px;width:auto;filter:drop-shadow(0 0 12px #1d5bff66);loading:lazy;}
    .mascot{height:200px;width:auto;opacity:1;filter:drop-shadow(0 10px 32px rgba(0,0,0,0.7));margin-bottom:8px;loading:lazy;}
    main{padding:0 16px;width:100%;max-width:100vw;margin:0;display:flex;align-items:flex-start;justify-content:center;min-height:100vh;padding-top:calc(var(--header-h) + 10px);position:relative;z-index:1;}
    .content{width:100%;max-width:450px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;text-align:center;min-height:calc(100vh - var(--header-h) - 10px);padding:20px 0 40px 0;}
    .section{width:100%;margin-bottom:40px;}
    .section-title{font-size:24px;font-weight:700;text-align:center;margin-bottom:24px;color:var(--text);}
    .hero{margin:5px 0 10px 0;position:relative;border-radius:24px;padding:32px 20px 36px;background:linear-gradient(145deg,#0d2142,#08132b 55%,#061027);overflow:hidden;box-shadow:0 16px 60px -20px #031026,0 0 0 1px #142b52 inset;text-align:center;width:100%;}
    .hero:before,.hero:after{content:"";position:absolute;border-radius:50%;filter:blur(45px);opacity:.55;mix-blend-mode:overlay;}
    .hero:before{width:340px;height:340px;top:-140px;right:-120px;background:radial-gradient(circle,#1c5eff,#0d2142 60%);} 
    .hero:after{width:260px;height:260px;bottom:-120px;left:-80px;background:radial-gradient(circle,#ffbc0066,#0d2142 60%);} 
    .hero h1{font-size:32px;line-height:1.2;font-weight:800;margin:0 0 24px;letter-spacing:.4px;text-shadow:0 4px 16px #000;}
    .gradient-text{background:linear-gradient(90deg,#3aa8ff,#69d4ff 45%,#ffbc00);-webkit-background-clip:text;background-clip:text;color:transparent;}
    .hero p{font-size:18px;color:var(--muted);font-weight:500;line-height:1.5;margin:0 0 32px;max-width:none;}
    .cta-stack{display:flex;flex-direction:column;gap:14px;align-items:center;}
    .pill-badge{display:inline-flex;align-items:center;gap:8px;background:rgba(255,188,0,.12);color:var(--accent);padding:10px 20px;border-radius:40px;font-size:14px;font-weight:700;letter-spacing:.5px;backdrop-filter:blur(4px);border:1px solid rgba(255,188,0,.45);margin:0 0 28px;}
    .benefits-grid{display:grid;grid-template-columns:1fr;gap:16px;margin-top:16px;}
    .benefit{background:#0f1d3b;border:1px solid #20355e;border-radius:20px;padding:20px 16px;position:relative;overflow:hidden;box-shadow:0 8px 32px -16px #020914 inset,0 4px 16px -8px #0a1b33;display:flex;align-items:center;gap:16px;}
    .benefit:before{content:"";position:absolute;inset:0;background:linear-gradient(140deg,#153261,#08142b 55%);opacity:.55;}
    .benefit h4{position:relative;font-size:16px;font-weight:700;line-height:1.4;margin:0 0 8px;}
    .benefit p{position:relative;font-size:14px;color:var(--muted);line-height:1.5;font-weight:500;margin:0;}
    .benefit-icon{width:56px;height:56px;border-radius:16px;background:#11284b;border:1px solid #25406a;display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 0 0 6px #0a1832;flex-shrink:0;}
    .benefit-icon svg{width:28px;height:28px;stroke:#69c1ff;}
    .steps{display:grid;gap:20px;margin-top:20px;}
    .step{display:flex;gap:16px;align-items:center;background:#0d1a33;border:1px solid #1d3356;padding:20px 18px;border-radius:20px;position:relative;}
    .step-number{width:48px;height:48px;border-radius:16px;background:linear-gradient(135deg,#2378ff,#49b0ff);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;box-shadow:0 8px 24px -10px #2378ffaa,0 0 0 1px #1f4d8c inset;flex-shrink:0;}
    .step h5{margin:0 0 6px;font-size:16px;font-weight:700;letter-spacing:.4px;}
    .step p{margin:0;font-size:14px;color:var(--muted);line-height:1.5;font-weight:500;}
    .trust{display:flex;flex-wrap:wrap;gap:12px;margin-top:20px;justify-content:center;}
    .trust-badge{background:#0d1a33;border:1px solid #1f365d;color:#7ba5d8;font-size:12px;font-weight:600;padding:8px 14px;border-radius:30px;letter-spacing:.4px;display:inline-flex;align-items:center;gap:6px;}
    .secondary-cta{margin-top:28px;display:flex;justify-content:center;}
    .outline-btn{background:#0d1d39;border:1px solid #234067;color:#8fb8e6;font-weight:600;padding:16px 32px;border-radius:20px;font-size:16px;letter-spacing:.4px;cursor:pointer;display:inline-flex;align-items:center;gap:8px;height:52px;}
    .outline-btn:hover{filter:brightness(1.07);}        
    .testimonial{background:#0d1b35;border:1px solid #1f355b;margin-top:32px;padding:24px 20px 28px;border-radius:24px;position:relative;overflow:hidden;}
    .testimonial:before{content:"";position:absolute;inset:0;opacity:.5;background:radial-gradient(circle at 80% 25%,#2765ff33,transparent 70%);} 
    .testimonial blockquote{margin:0;font-size:16px;line-height:1.5;font-weight:500;color:#c9d8ef;position:relative;}
    .testimonial cite{display:block;margin-top:16px;font-size:12px;letter-spacing:.5px;font-style:normal;color:var(--muted);font-weight:600;}
    .mini-note{margin-top:20px;font-size:16px;color:#5d7196;letter-spacing:.4px;text-align:center;}
        .whatsapp-cta{margin:20px auto 8px;max-width:440px;}
        .btn-whatsapp{background:linear-gradient(135deg,#25d366,#1fbf59,#0f9942);width:95%;max-width:450px;border:none;color:#fff;font-weight:800;letter-spacing:0px;font-size:22px;padding:28px 32px;border-radius:32px;box-shadow:0 15px 40px -12px #1fbf5999,0 0 0 2px #1a5d37 inset,0 0 25px rgba(37,211,102,0.5),inset 0 2px 0 rgba(255,255,255,0.25),inset 0 -2px 0 rgba(0,0,0,0.15);display:flex;align-items:center;justify-content:center;gap:16px;cursor:pointer;position:relative;overflow:hidden;height:80px;animation:pulse-bounce 2s ease-in-out infinite;transition:transform 0.2s ease;will-change:transform;}
        .btn-whatsapp:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3) 40%,rgba(255,255,255,0.5) 50%,rgba(255,255,255,0.3) 60%,transparent);animation:metallic-sweep 3.5s infinite;z-index:1;}
        .btn-whatsapp:after{content:"";position:absolute;inset:1px;background:linear-gradient(135deg,rgba(255,255,255,0.12) 0%,transparent 35%,transparent 65%,rgba(255,255,255,0.08) 100%);border-radius:31px;z-index:1;pointer-events:none;}
        .btn-whatsapp:hover{transform:scale(1.1) translateY(-2px);box-shadow:0 25px 60px -8px #1fbf5999,0 0 0 3px #1a5d37 inset,0 0 50px rgba(37,211,102,0.8),inset 0 3px 0 rgba(255,255,255,0.3),inset 0 -3px 0 rgba(0,0,0,0.2);}
        .btn-whatsapp:active{transform:scale(0.98);}
        .btn-whatsapp img, .btn-whatsapp span{position:relative;z-index:2;}
        .btn-whatsapp img{height:42px;width:42px;filter:drop-shadow(0 2px 4px rgba(0,0,0,0.3));}
        .btn-whatsapp span{text-shadow:0 1px 2px rgba(0,0,0,0.2);}
        .floating-help{position:fixed;right:10px;bottom:70px;width:48px;height:48px;border-radius:16px;background:#0f1d3b;border:1px solid #2d4777;display:flex;align-items:center;justify-content:center;box-shadow:0 6px 16px -6px #061227,0 0 0 4px #1c2d4e55;cursor:pointer;z-index:60;}
        .floating-help svg{width:20px;height:20px;fill:#3aa8ff}
        footer{margin:30px 0 0;padding:20px 8px 60px;text-align:center;font-size:9px;color:#5d7196;line-height:1.3;}
        .divider{height:1px;background:linear-gradient(90deg,transparent,#1d3056,transparent);margin:34px 0 24px;}
        @keyframes shine{0%{background-position:220% 50%}100%{background-position:-20% 50%}}
        @keyframes pulse-bounce{
            0%, 100% {
                transform:scale(1) translateY(0);
                box-shadow:0 15px 40px -12px #1fbf5999,0 0 0 2px #1a5d37 inset,0 0 25px rgba(37,211,102,0.5),inset 0 2px 0 rgba(255,255,255,0.25),inset 0 -2px 0 rgba(0,0,0,0.15);
            }
            25% {
                transform:scale(1.05) translateY(-4px);
                box-shadow:0 20px 50px -10px #1fbf5999,0 0 0 3px #1a5d37 inset,0 0 35px rgba(37,211,102,0.7),inset 0 3px 0 rgba(255,255,255,0.35),inset 0 -3px 0 rgba(0,0,0,0.2);
            }
            50% {
                transform:scale(1.08) translateY(-6px);
                box-shadow:0 25px 60px -8px #1fbf5999,0 0 0 4px #1a5d37 inset,0 0 45px rgba(37,211,102,0.9),inset 0 4px 0 rgba(255,255,255,0.4),inset 0 -4px 0 rgba(0,0,0,0.25);
            }
            75% {
                transform:scale(1.05) translateY(-4px);
                box-shadow:0 20px 50px -10px #1fbf5999,0 0 0 3px #1a5d37 inset,0 0 35px rgba(37,211,102,0.7),inset 0 3px 0 rgba(255,255,255,0.35),inset 0 -3px 0 rgba(0,0,0,0.2);
            }
        }
        @keyframes metallic-sweep{
            0% {left:-100%;}
            25% {left:-100%;}
            50% {left:100%;}
            100% {left:100%;}
        }
        /* Móviles - Diseño base optimizado */
        @media (max-width:768px){
            :root{--header-h:320px;}
            .page{padding:0 6px 80px;width:100vw;}
            .hero{padding:20px 16px 24px;margin:10px 0 15px;}
            .hero h1{font-size:22px;line-height:1.25;}
            .hero p{font-size:14px;}
            .benefits-grid{grid-template-columns:1fr 1fr;gap:8px;}
            .benefit{padding:12px 8px;text-align:center;}
            .benefit h4{font-size:11px;margin:3px 0;}
            .benefit p{font-size:9px;}
            .benefit-icon{width:32px;height:32px;margin:0 auto 6px;}
            .benefit-icon svg{width:16px;height:16px;}
            .steps{gap:8px;}
            .step{padding:10px 12px;}
            .step h5{font-size:12px;}
            .step p{font-size:10px;}
            .testimonial{padding:14px 12px 16px;}
            .testimonial blockquote{font-size:12px;}
            .trust{gap:6px;}
            main{padding:0 16px;padding-top:calc(var(--header-h) + 15px);}
            .section-head h3{font-size:16px !important;}
            header{height:var(--header-h);padding:12px 0;}
            .logo-mini{margin-bottom:10px;padding:8px;}
            .logo-mini img{height:52px;}
            .mascot{height:170px;margin-bottom:8px;}
            .content{min-height:calc(100vh - var(--header-h) - 15px);padding:15px 0 30px 0;}
            .btn-whatsapp:before{animation:none;}
        }
        /* Móviles pequeños - Ajustes específicos */
        @media (max-width:430px){
            :root{--header-h:300px;}
            .page{padding:0 8px 75px;width:100vw;}
            .hero{padding:18px 12px 22px;margin:8px 0 12px;}
            .hero h1{font-size:20px;}
            .hero p{font-size:13px;}
            .pill-badge{padding:6px 12px;font-size:11px;}
            .btn-whatsapp{height:70px;font-size:18px;padding:20px 22px;}
            .btn-whatsapp img{height:32px;width:32px;}
            .benefit{padding:10px 6px;}
            .benefit h4{font-size:10px;}
            .benefit p{font-size:8px;line-height:1.3;}
            .benefit-icon{width:28px;height:28px;}
            .benefit-icon svg{width:14px;height:14px;}
            .step{padding:8px 10px;}
            .step-number{width:30px;height:30px;font-size:12px;}
            .step h5{font-size:11px;}
            .step p{font-size:9px;}
            .outline-btn{height:40px;padding:10px 20px;font-size:11px;}
            .testimonial{padding:12px 10px 14px;}
            .trust-badge{font-size:8px;padding:4px 8px;}
            .floating-help{width:40px;height:40px;right:6px;bottom:60px;}
            .floating-help svg{width:16px;height:16px;}
            .dot-indicators{bottom:10px;padding:4px 8px;}
            .dot-indicators button{width:6px;height:6px;padding:10px;}
            main{padding:0 12px;padding-top:calc(var(--header-h) + 10px);}
            .section-head h3{font-size:14px !important;}
            header{height:var(--header-h);padding:10px 0;}
            .logo-mini{margin-bottom:8px;padding:6px;}
            .logo-mini img{height:44px;}
            .mascot{height:150px;margin-bottom:6px;}
            .content{min-height:calc(100vh - var(--header-h) - 10px);padding:10px 0 25px 0;}
        }
        /* Desktop - Solo para pantallas grandes */
        @media (min-width:769px){
            main{max-width:620px;margin:0 auto;padding:calc(var(--header-h) + 12px) 12px 0;}
            .page{padding:0 8px 110px;}
            .hero{padding:32px 24px 40px;}
            .hero h1{font-size:32px;}
            .hero p{font-size:15px;max-width:500px;}
            .benefits-grid{grid-template-columns:repeat(2,1fr);gap:16px;}
            .benefit{padding:18px 16px;text-align:left;}
            .benefit h4{font-size:14px;}
            .benefit p{font-size:11px;}
            .benefit-icon{width:48px;height:48px;margin:0 0 8px 0;}
            .benefit-icon svg{width:24px;height:24px;}
        }
        @media (prefers-reduced-motion:reduce){
            .pages{transition:transform .25s linear;}
            .btn-whatsapp:after{animation:none}
        }
        /* Móviles pequeños - Pantallas cortas */
        @media (max-width: 480px) and (max-height: 700px) {
            :root{--header-h:280px;}
            header{height:var(--header-h);padding:8px 0;}
            .logo-mini{margin-bottom:6px;padding:4px;}
            .logo-mini img{height:38px;}
            .mascot{height:135px;margin-bottom:4px;}
            main{padding:0 12px;padding-top:calc(var(--header-h) + 8px);}
            .content{min-height:calc(100vh - var(--header-h) - 8px);padding:8px 0 20px 0;}
            .hero{padding:20px 14px 24px;margin:5px 0 8px 0;}
            .hero h1{font-size:20px;}
            .hero p{font-size:12px;}
            .btn-whatsapp{height:72px;font-size:18px;width:90%;padding:22px 20px;}
            .btn-whatsapp img{height:32px;width:32px;}
            .pill-badge{font-size:10px;padding:5px 12px;}
            .mini-note{font-size:11px;margin-top:6px;}
        }
        
        /* Pantallas muy pequeñas */
        @media (max-width: 360px) {
            :root{--header-h:260px;}
            header{height:var(--header-h);padding:6px 0;}
            .logo-mini{margin-bottom:4px;padding:3px;}
            .logo-mini img{height:32px;}
            .mascot{height:120px;margin-bottom:3px;}
            main{padding:0 10px;padding-top:calc(var(--header-h) + 6px);}
            .content{min-height:calc(100vh - var(--header-h) - 6px);padding:6px 0 18px 0;}
            .hero{padding:16px 10px 20px;margin:3px 0 6px 0;}
            .hero h1{font-size:18px;}
            .hero p{font-size:11px;}
            .btn-whatsapp{height:56px;font-size:14px;width:80%;padding:14px 12px;}
            .btn-whatsapp img{height:20px;width:20px;}
            .pill-badge{font-size:9px;padding:4px 10px;}
            .mini-note{font-size:10px;margin-top:5px;}
        }
        
        /* Landscape mode - Pantallas horizontales */
        @media (max-width: 900px) and (max-height: 600px) and (orientation: landscape) {
            :root{--header-h:180px;}
            header{height:var(--header-h);padding:4px 0;}
            .logo-mini{margin-bottom:3px;padding:2px;}
            .logo-mini img{height:28px;}
            .mascot{height:85px;margin-bottom:2px;}
            main{padding:0 20px;padding-top:calc(var(--header-h) + 5px);}
            .content{min-height:calc(100vh - var(--header-h) - 5px);padding:5px 0 15px 0;}
            .hero{padding:12px 16px 15px;margin:2px 0 4px 0;}
            .hero h1{font-size:16px;}
            .hero p{font-size:11px;}
            .btn-whatsapp{height:52px;font-size:15px;width:55%;padding:14px 18px;}
            .btn-whatsapp img{height:24px;width:24px;}
            .pill-badge{font-size:8px;padding:3px 6px;}
            .mini-note{font-size:9px;margin-top:3px;}
        }
        
        /* Tabletas y dispositivos medianos */
        @media (min-width: 481px) and (max-width: 768px) {
            :root{--header-h:360px;}
            header{height:var(--header-h);padding:16px 0;}
            .logo-mini{margin-bottom:12px;padding:8px;}
            .logo-mini img{height:54px;}
            .mascot{height:185px;margin-bottom:8px;}
            main{padding:0 20px;padding-top:calc(var(--header-h) + 15px);}
            .content{min-height:calc(100vh - var(--header-h) - 15px);padding:15px 0 30px 0;}
            .hero{padding:32px 20px 36px;margin:8px 0 15px 0;}
            .hero h1{font-size:26px;}
            .hero p{font-size:15px;}
            .btn-whatsapp{height:84px;font-size:20px;width:70%;padding:26px 24px;}
            .btn-whatsapp img{height:38px;width:38px;}
            .pill-badge{font-size:12px;padding:7px 16px;}
            .mini-note{font-size:13px;margin-top:12px;}
        }
        
        @media (prefers-reduced-motion:reduce){
            .btn-whatsapp:after{animation:none}
            .btn-whatsapp:before{animation:none}
        }
        @media (hover:hover){.btn-whatsapp:hover{filter:brightness(1.05);}}
    </style>
</head>
<body>
    <canvas id="particles-canvas"></canvas>
    <header>
        <div class="logo-mini" id="main-logo">
            <img src="logo.png" alt="Logo" data-fallback="logo.PNG" class="logo-img" loading="eager" width="64" height="64" />
        </div>
        <img src="mascota.png" alt="Mascota" class="mascot" loading="lazy" width="200" height="200" />
        <div class="pill-badge" style="margin:12px 0 0 0;">ACCESO VIP</div>
    </header>
    <main>
      <div class="content">
        <!-- Sección Hero -->
        <section class="hero">
            <h1>OBTENÉ UN <span class="gradient-text">30%</span> EN TU PRIMER DEPÓSITO</h1>
            <p><span style="color:#ffbc00;font-weight:700;">Escribinos apretando el botón de abajo</span></p>
            <div class="cta-stack">
                <button id="whatsapp-btn-top" class="btn-whatsapp wa-btn">
                    <img src="logo_whatsapp.png" alt="WhatsApp" class="wa-icon" loading="eager" width="42" height="42" /> <span>WHATSAPP OFFICIAL</span>
                </button>
                <div class="mini-note" style="color:#ffbc00;font-weight:700;">ATENCIÓN Y RETIROS LAS 24 HS</div>
            </div>
        </section>
        
        <footer style="margin-top:12px;text-align:center;font-size:9px;color:#5d7196;line-height:1.3;">
            © 2025 el juego es solo +18. Operá con responsabilidad.
        </footer>
      </div>
    </main>

<!-- Sistema de tracking simple y limpio (externo) -->
<script src="tracking-simple.js"></script>


    function generateUUID() {
        // Implementación simple de UUID v4
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
            const r = Math.random() * 16 | 0;
            const v = c === 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    }

    function generateEventId() {
        if (!globalEventId) {
            globalEventId = generateUUID();
            console.log('🆔 Event ID generado:', globalEventId);
        }
        return globalEventId;
    }

    // Registrar evento en el backend del panel
    async function registerEvent(eventId, eventType = 'pageview') {
        try {
            const response = await fetch(`${TRACKING_CONFIG.backendUrl}/api/track`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    event_id: eventId,
                    event_type: eventType,
                    timestamp: new Date().toISOString(),
                    user_agent: navigator.userAgent,
                    referrer: document.referrer || 'direct'
                })
            });

            if (!response.ok) {
                console.warn('⚠️ No se pudo registrar el evento en el panel');
            } else {
                console.log(`✅ Evento ${eventType} registrado en el panel`);
            }
        } catch (error) {
            console.warn('⚠️ Error al conectar con el panel:', error);
        }
    }

    // Enviar evento a Facebook Pixel con event_id
    function sendFacebookEvent(eventName, eventId) {
        if (typeof fbq !== 'undefined') {
            fbq('track', eventName, {}, {
                eventID: eventId
            });
            console.log(`✅ Evento ${eventName} enviado a Facebook Pixel con event_id:`, eventId);
        } else {
            console.warn('⚠️ Facebook Pixel no está cargado');
        }
    }

    // Función mejorada para obtener valores de cookies con soporte para fallbacks
    function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
        return '';
    }

    // Inicializar tracking al cargar la página
    window.addEventListener('DOMContentLoaded', function() {
        const eventId = generateEventId();

        // Registrar PageView en el panel
        registerEvent(eventId, 'pageview');

        // Enviar PageView a Facebook Pixel con event_id
        sendFacebookEvent('PageView', eventId);

        console.log('📊 Sistema de tracking inicializado');
    });

    // ===== SISTEMA ANTI-BOT Y ANTI-VPN AVANZADO =====
    
    // Variables para tracking avanzado
    let userInteractions = {
        mouseMovements: 0,
        scrolls: 0,
        keyPresses: 0,
        touches: 0,
        timeOnPage: 0,
        clickDelay: 0,
        genuineInteractions: 0
    };
    
    let botDetectionFlags = {
        suspiciousUserAgent: false,
        noMouseMovement: false,
        tooFastClick: false,
        suspiciousTimezone: false,
        headlessBrowser: false,
        automationDetected: false,
        vpnDetected: false,
        proxyDetected: false
    };
    
    const pageLoadTime = Date.now();
    
    // Detectar user agents sospechosos (bots)
    function detectSuspiciousUserAgent() {
        const ua = navigator.userAgent.toLowerCase();
        const botPatterns = [
            'headless', 'phantom', 'selenium', 'webdriver', 'chrome-lighthouse',
            'googlebot', 'bingbot', 'slurp', 'duckduckbot', 'baiduspider',
            'yandexbot', 'facebookexternalhit', 'twitterbot', 'linkedinbot',
            'whatsapp', 'telegrambot', 'crawler', 'spider', 'scraper',
            'automation', 'puppeteer', 'playwright'
        ];
        
        return botPatterns.some(pattern => ua.includes(pattern));
    }
    
    // Detectar navegadores headless y herramientas de automatización
    function detectHeadlessBrowser() {
        // Verificar propiedades que normalmente no están en navegadores headless
        const checks = [
            !window.chrome,
            !navigator.languages || navigator.languages.length === 0,
            !navigator.plugins || navigator.plugins.length === 0,
            navigator.webdriver === true,
            window.outerHeight === 0,
            window.outerWidth === 0,
            screen.colorDepth < 24,
            !window.speechSynthesis,
            typeof navigator.permissions === 'undefined'
        ];
        
        return checks.filter(Boolean).length > 3;
    }
    
    // Verificar timezone sospechoso
    function detectSuspiciousTimezone() {
        try {
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            const offset = new Date().getTimezoneOffset();
            
            // Timezones comúnmente usadas por VPNs/proxies
            const suspiciousTimezones = [
                'Europe/London', 'America/New_York', 'Europe/Amsterdam',
                'Asia/Singapore', 'UTC'
            ];
            
            return suspiciousTimezones.includes(timezone) || Math.abs(offset) === 0;
        } catch (e) {
            return true; // Error al obtener timezone es sospechoso
        }
    }
    
    // Detectar VPN/Proxy por WebRTC leak
    async function detectVPNProxy() {
        return new Promise((resolve) => {
            const pc = new RTCPeerConnection({iceServers: [{urls: 'stun:stun.l.google.com:19302'}]});
            const ips = [];
            
            pc.onicecandidate = (e) => {
                if (!e.candidate) {
                    pc.close();
                    
                    // Analizar IPs obtenidas
                    const privateIpPattern = /^(192\.168\.|10\.|172\.(1[6-9]|2[0-9]|3[01])\.|127\.|169\.254\.)/;
                    const hasPrivateIp = ips.some(ip => privateIpPattern.test(ip));
                    const hasMultiplePublicIps = ips.filter(ip => !privateIpPattern.test(ip)).length > 1;
                    
                    resolve(hasMultiplePublicIps && !hasPrivateIp);
                    return;
                }
                
                const candidate = e.candidate.candidate;
                const match = candidate.match(/(\d+\.\d+\.\d+\.\d+)/);
                if (match && !ips.includes(match[1])) {
                    ips.push(match[1]);
                }
            };
            
            pc.createDataChannel('test');
            pc.createOffer().then(offer => pc.setLocalDescription(offer));
            
            // Timeout después de 3 segundos
            setTimeout(() => {
                pc.close();
                resolve(false);
            }, 3000);
        });
    }
    
    // Verificar patrones de comportamiento humano
    function trackUserBehavior() {
        // Mouse movements
        document.addEventListener('mousemove', () => {
            userInteractions.mouseMovements++;
            userInteractions.genuineInteractions++;
        }, { passive: true });
        
        // Scroll tracking
        document.addEventListener('scroll', () => {
            userInteractions.scrolls++;
            userInteractions.genuineInteractions++;
        }, { passive: true });
        
        // Keyboard interactions
        document.addEventListener('keydown', () => {
            userInteractions.keyPresses++;
            userInteractions.genuineInteractions++;
        }, { passive: true });
        
        // Touch interactions (móviles)
        document.addEventListener('touchstart', () => {
            userInteractions.touches++;
            userInteractions.genuineInteractions++;
        }, { passive: true });
        
        // Actualizar tiempo en página cada segundo
        setInterval(() => {
            userInteractions.timeOnPage = Math.floor((Date.now() - pageLoadTime) / 1000);
        }, 1000);
    }
    
    // Calcular score de confiabilidad (0-100) - MÁS PERMISIVO PARA MÓVILES
    function calculateTrustScore() {
        let score = 100;

        // Penalizar por flags de bot - REDUCIDO
        Object.values(botDetectionFlags).forEach(flag => {
            if (flag) score -= 8; // Reducido de 15 a 8
        });

        // Penalizar por falta de interacciones - MÁS PERMISIVO
        if (userInteractions.genuineInteractions < 1) score -= 15; // Reducido y solo si NO hay interacciones
        if (userInteractions.mouseMovements < 2 && userInteractions.touches < 1) score -= 10; // Reducido
        if (userInteractions.timeOnPage < 1) score -= 10; // Reducido

        // Bonificar comportamiento genuino - MÁS GENEROSO
        if (userInteractions.mouseMovements > 5 || userInteractions.touches > 2) score += 10;
        if (userInteractions.scrolls > 2) score += 8;
        if (userInteractions.timeOnPage > 5) score += 12;

        return Math.max(0, Math.min(100, score));
    }
    
    // Ejecutar detecciones iniciales (optimizado)
    async function initBotDetection() {
        // Detecciones rápidas y síncronas primero
        botDetectionFlags.suspiciousUserAgent = detectSuspiciousUserAgent();
        botDetectionFlags.headlessBrowser = detectHeadlessBrowser();
        botDetectionFlags.suspiciousTimezone = detectSuspiciousTimezone();

        // Iniciar tracking de comportamiento inmediatamente
        trackUserBehavior();

        // VPN detection en background (no bloquea carga inicial)
        detectVPNProxy().then(result => {
            botDetectionFlags.vpnDetected = result;
        }).catch(() => {
            botDetectionFlags.vpnDetected = false;
        });

        console.log('🔒 Sistema anti-bot inicializado');
    }
    
    // Validar click antes de proceder - ANTI-BOT 1.2 SEGUNDOS
    function validateClickSecurity(clickTime) {
        const timeSinceLoad = clickTime - pageLoadTime;

        // Click demasiado rápido (menos de 1.2 segundos) - Filtro anti-bot
        if (timeSinceLoad < 1200) {
            botDetectionFlags.tooFastClick = true;
            console.warn('⚠️ Click muy rápido - mínimo 1.2s desde carga');
            return false;
        }

        // Verificar interacciones mínimas para móviles
        if (userInteractions.genuineInteractions < 1 && timeSinceLoad < 2500) {
            botDetectionFlags.noMouseMovement = true;
            console.warn('⚠️ Se requiere al menos 1 interacción');
            return false;
        }

        const trustScore = calculateTrustScore();
        console.log('🎯 Trust Score:', trustScore, 'Tiempo:', timeSinceLoad + 'ms', 'Interacciones:', userInteractions.genuineInteractions);

        // Rechazar si score muy bajo (menos de 40)
        if (trustScore < 40) {
            console.warn('⚠️ Trust Score bajo:', trustScore);
            return false;
        }

        return true;
    }

    // Función para validar si una respuesta HTTP es exitosa
    function checkResponse(response) {
        if (!response.ok) {
            throw new Error(`Error HTTP: ${response.status}`);
        }
        return response.json();
    }
    
    // Diseño vertical - sin navegación horizontal

    // Sistema de tracking único - solo una conversión por sesión
    let hasTrackedConversion = false;
    let hasRedirected = false;

    // WhatsApp handlers - SIMPLIFICADO Y OPTIMIZADO
    document.querySelectorAll('.wa-btn').forEach(btn=>{
        btn.addEventListener('click', function(event) {
            event.preventDefault();
            event.stopPropagation();

            // Evitar clicks múltiples
            if (hasRedirected) {
                console.log('⚠️ Click ignorado - ya redirigido');
                return;
            }

            hasRedirected = true;
            console.log('🖱️ Clic detectado en botón de WhatsApp');

            const eventId = generateEventId();

            // Crear mensaje de WhatsApp con event_id
            const message = TRACKING_CONFIG.defaultMessage + eventId;
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/${TRACKING_CONFIG.whatsappNumber}?text=${encodedMessage}`;

            // Trackear solo la primera vez
            if (!hasTrackedConversion) {
                console.log('🎯 Primera conversión - enviando evento de tracking');
                hasTrackedConversion = true;

                // Enviar evento ClickWhatsApp al Facebook Pixel
                sendFacebookEvent('ClickWhatsApp', eventId);

                // Registrar el click en el panel
                registerEvent(eventId, 'whatsapp_click');

                console.log('⏰ Timestamp:', new Date().toISOString());
                console.log('📋 Event ID incluido en mensaje:', eventId);
            }

            // Abrir WhatsApp inmediatamente
            console.log('➡️ Abriendo WhatsApp con mensaje:', message);
            window.open(whatsappUrl, '_blank');

            // Resetear flag después de 2 segundos
            setTimeout(() => {
                hasRedirected = false;
            }, 2000);
        }, { once: false, passive: false });
    });

    // Fallback para imágenes (logo / whatsapp)
    document.querySelectorAll('img[data-fallback]').forEach(img=>{
        img.addEventListener('error',()=>{
            if(img.dataset.fallback && !img.dataset.tried){
                img.dataset.tried='1';
                img.src=img.dataset.fallback;
            } else {
                img.style.display='none';
            }
        });
    });


    // Ajuste de altura real del viewport móvil (evita corte por barras dinámicas)
    function setAppVH(){
        const vh=window.innerHeight; // altura visible real
        document.documentElement.style.setProperty('--app-vh',vh+'px');
    }
    setAppVH();
    window.addEventListener('resize',()=>{setAppVH();});
    window.addEventListener('orientationchange',()=>{setTimeout(setAppVH,180);});

    // Inicializar sistema anti-bot
    initBotDetection();

    // Scroll suave al inicio
    window.addEventListener('load',()=>{window.scrollTo(0,0);});

    // ===== FONDO ANIMADO CON PARTÍCULAS =====
    // Partículas desactivadas temporalmente para mejor rendimiento
    // (function initParticles() {
    //     ... código comentado ...
    // })();

    console.log('✅ Sistema de tracking cargado correctamente');
</script>
</body>
</html>